<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:shiro="http://www.pollix.at/thymeleaf/shiro">
<head>
	<meta charset="UTF-8">
	<title>報表輸出</title>
	<link rel="stylesheet" type="text/css" th:href="@{/css/lib/reset.css}" href="../../css/lib/Reset.css"/>
	<link rel="stylesheet" type="text/css" th:href="@{/css/lib/iconfont.css}" href="../../css/lib/iconfont.css"/>
	<link rel="stylesheet" type="text/css" th:href="@{/layui/css/layui.css}" href="../../js/lib/layui/css/layui.css"/>
	<link rel="stylesheet" type="text/css" th:href="@{/css/module/index.css}" href="../../css/index.css"/>
	<link rel="stylesheet" type="text/css" th:href="@{/css/module/monitor/monitoring.css}" href="../../css/monitoring.css"/>
	<link rel="stylesheet" type="text/css" th:href="@{/css/module/report/exportReport.css}" href="../../css/exportReport.css"/>
	<script th:src="@{/js/lib/jquery-3.1.0.min.js}" src="../../js/lib/jquery-3.1.0.min.js" type="text/javascript" charset="utf-8"></script>
	<script th:src="@{/js/lib/functions.js}" src="../../js/functions.js" type="text/javascript" charset="utf-8"></script>
	<script th:src="@{/layui/layui.js}" src="../../js/lib/layui/layui.js" type="text/javascript" charset="utf-8"></script>
	<script th:src="@{/js/lib/ECharts.js}" src="../../js/lib/ECharts.js" type="text/javascript"></script>
	<script th:src="@{/js/module/report/exportReport.js}" src="../../js/exportReport.js" type="text/javascript" charset="utf-8"></script>
	<script th:src="@{/js/module/report/request-data.js}" src="../../js/request-data.js" type="text/javascript" charset="utf-8"></script>
	<script th:src="@{/js/lib/jquery.table2excel.min.js}" src="../../js/lib/jquery.table2excel.min.js" type="text/javascript" charset="utf-8"></script>
</head>
<body>
<ul class="section">
	<li>
		<div class="setMgrLeft">
			<ul class="classify">
				<li>報表項目</li>
			</ul>
			<div class="areaClassifyDiv">
				<ul class="classifyDetail" id="reportClassify">
					<li type="0" class="activeSet" shiro:hasPermission="report:access">上下班記錄查詢</li>
					<li type="1" shiro:hasPermission="report:in-out">出入記錄查詢</li>
					<li type="2" shiro:hasPermission="report:warn">警告訊息查詢</li>
					<li type="3" shiro:hasPermission="report:operation">人員操作記錄</li>
					<li type="4" shiro:hasPermission="report:totalHours">工時統計查詢</li>
				</ul>
			</div>
		</div>
		<div class="setMgrRight">
			<ul class="classifyContent" id="reportContent">
				<li shiro:hasPermission="report:access">
				   <div class="layui-tab layui-tab-brief" lay-filter="accessStaticFilter">
					  <ul class="layui-tab-title">
					    <li class="layui-this">經過出入口記錄查詢</li>
					    <li>未經過出入口記錄查詢</li>
					    <li>所有上下班記錄查詢</li>
					  </ul>
					  <div class="layui-tab-content">
					  	<div class="layui-tab-item layui-show">
							<div class="layui-form filtrate" id="onOffDutyQuery">
								<div class="layui-form-item">
									<label class="layui-form-label">姓名：</label>
									<div class="layui-input-inline">
										<input type="text" name="name" placeholder="輸入姓名" autocomplete="off" class="layui-input">
									</div>
									<label class="layui-form-label">公司：</label>
									<div class="layui-input-inline">
										<select name="companyName" lay-filter="onOffDutyCompanyFilter">
											<option value="">請選擇</option>
										</select>
									</div>
									<label class="layui-form-label">工種：</label>
									<div class="layui-input-inline">
										<select name="jobTypeName" lay-filter="onOffDutyJobTypeFilter">
											<option value="">請選擇</option>
										</select>
									</div>
									<label class="layui-form-label">工地：</label>
									<div class="layui-input-inline">
										<select name="groupName" lay-filter="onOffDutyGroupFilter">
											<option value="">請選擇</option>
										</select>
									</div>
								</div>
								<div class="layui-form-item">
									<label class="layui-form-label">日期區間：</label>
									<div class="layui-input-inline dateInterval">
										<div class="layui-input-inline" style="width: 300px;">
										<input type="text" name="accessDateInterval" id="accessDateInterval" class="layui-input" 
											   placeholder="yyyy-MM-dd HH:mm:ss - yyyy-MM-dd HH:mm:ss" />
										</div>
									</div>
									<button type="button" class="layui-btn layui-btn-sm search" id="searchCommuteRecord">
										<i class="layui-icon">&#xe615;</i>開始查詢
									</button>
									<button type="button" class="layui-btn layui-btn-sm" id="exportCommuteRecord">
										<i class="layui-icon">&#xe62d;</i>導出報表
									</button>
								</div>
							</div>
							<table class="layui-table" lay-data="{height:'full-138', url:'report/operation/empty', page:true, id:'accessTableId'}" lay-filter="access">
							  <thead>
							    <tr>
							      <th lay-data="{field:'tagName', align: 'center', sort: true, width: 60}">姓名</th>
							      <th lay-data="{field:'tagId', align: 'center', sort: true, width: 60}">ID</th>
							      <th lay-data="{field:'jobTypeName', align: 'center', sort: true, width: 60}">工種</th>
							      <th lay-data="{field:'companyName', align: 'center', sort: true, width: 70}">公司</th>
							      <th lay-data="{field:'groupName', align: 'center', sort: true, width: 70}">工地</th>
							      <th lay-data="{field:'regionName', align: 'center', sort: true, width: 70}">區域</th>
							      <th lay-data="{field:'enterReferName', align: 'center', sort: true, width: 105}">上班參考點</th>
							      <th lay-data="{field:'leaveReferName', align: 'center', sort: true, width: 105}">下班參考點</th>
							   	  <th lay-data="{field:'onDutyTime', align: 'center', sort: true}">上班時間</th>
							   	  <th lay-data="{field:'offDutyTime', align: 'center', sort: true}">下班時間</th>
							   	  <th lay-data="{field:'taskTime', align: 'center', sort: true}">工        時</th>
							    </tr>
							  </thead>
							</table>
						</div>
    					<div class="layui-tab-item">
							<div class="layui-form filtrate" id="onOffDutyQuery1">
								<div class="layui-form-item">
									<label class="layui-form-label">姓名：</label>
									<div class="layui-input-inline">
										<input type="text" name="name" placeholder="輸入姓名" autocomplete="off" class="layui-input">
									</div>
									<label class="layui-form-label">公司：</label>
									<div class="layui-input-inline">
										<select name="companyName" lay-filter="onOffDutyCompanyFilter1">
											<option value="">請選擇</option>
										</select>
									</div>
									<label class="layui-form-label">工種：</label>
									<div class="layui-input-inline">
										<select name="jobTypeName" lay-filter="onOffDutyJobTypeFilter1">
											<option value="">請選擇</option>
										</select>
									</div>
									<label class="layui-form-label">工地：</label>
									<div class="layui-input-inline">
										<select name="groupName" lay-filter="onOffDutyGroupFilter1">
											<option value="">請選擇</option>
										</select>
									</div>
								</div>
								<div class="layui-form-item">
									<label class="layui-form-label">日期區間：</label>
									<div class="layui-input-inline dateInterval">
										<div class="layui-input-inline" style="width: 300px;">
										<input type="text" name="accessDateInterval" id="accessDateInterval1" class="layui-input" 
											   placeholder="yyyy-MM-dd HH:mm:ss - yyyy-MM-dd HH:mm:ss" />
										</div>
									</div>
									<button type="button" class="layui-btn layui-btn-sm search" id="searchCommuteRecord1">
										<i class="layui-icon">&#xe615;</i>開始查詢
									</button>
									<button type="button" class="layui-btn layui-btn-sm" id="exportCommuteRecord1">
										<i class="layui-icon">&#xe62d;</i>導出報表
									</button>
								</div>
							</div>
							<table class="layui-table" lay-data="{height:'full-138', url:'report/operation/empty', page:true, id:'accessTableId1'}" lay-filter="access1">
							  <thead>
							    <tr>
							      <th lay-data="{field:'tagName', align: 'center', sort: true, width: 60}">姓名</th>
							      <th lay-data="{field:'tagId', align: 'center', sort: true, width: 60}">ID</th>
							      <th lay-data="{field:'jobTypeName', align: 'center', sort: true, width: 60}">工種</th>
							      <th lay-data="{field:'companyName', align: 'center', sort: true, width: 70}">公司</th>
							      <th lay-data="{field:'groupName', align: 'center', sort: true, width: 70}">工地</th>
							      <th lay-data="{field:'regionName', align: 'center', sort: true, width: 70}">區域</th>
							      <th lay-data="{field:'enterReferName', align: 'center', sort: true, width: 105}">上班參考點</th>
							      <th lay-data="{field:'leaveReferName', align: 'center', sort: true, width: 105}">下班參考點</th>
							   	  <th lay-data="{field:'onDutyTime', align: 'center', sort: true}">上班時間</th>
							   	  <th lay-data="{field:'offDutyTime', align: 'center', sort: true}">下班時間</th>
							   	  <th lay-data="{field:'taskTime', align: 'center', sort: true}">工        時</th>
							    </tr>
							  </thead>
							</table>
						</div>
						<div class="layui-tab-item">
							<div class="layui-form filtrate" id="onOffDutyQuery2">
								<div class="layui-form-item">
									<label class="layui-form-label">姓名：</label>
									<div class="layui-input-inline">
										<input type="text" name="name" placeholder="輸入姓名" autocomplete="off" class="layui-input">
									</div>
									<label class="layui-form-label">公司：</label>
									<div class="layui-input-inline">
										<select name="companyName" lay-filter="onOffDutyCompanyFilter2">
											<option value="">請選擇</option>
										</select>
									</div>
									<label class="layui-form-label">工種：</label>
									<div class="layui-input-inline">
										<select name="jobTypeName" lay-filter="onOffDutyJobTypeFilter2">
											<option value="">請選擇</option>
										</select>
									</div>
									<label class="layui-form-label">工地：</label>
									<div class="layui-input-inline">
										<select name="groupName" lay-filter="onOffDutyGroupFilter2">
											<option value="">請選擇</option>
										</select>
									</div>
								</div>
								<div class="layui-form-item">
									<label class="layui-form-label">日期區間：</label>
									<div class="layui-input-inline dateInterval">
										<div class="layui-input-inline" style="width: 300px;">
										<input type="text" name="accessDateInterval" id="accessDateInterval2" class="layui-input" 
											   placeholder="yyyy-MM-dd HH:mm:ss - yyyy-MM-dd HH:mm:ss" />
										</div>
									</div>
									<button type="button" class="layui-btn layui-btn-sm search" id="searchCommuteRecord2">
										<i class="layui-icon">&#xe615;</i>開始查詢
									</button>
									<button type="button" class="layui-btn layui-btn-sm" id="exportCommuteRecord2">
										<i class="layui-icon">&#xe62d;</i>導出報表
									</button>
								</div>
							</div>
							<table class="layui-table" lay-data="{height:'full-138', url:'report/operation/empty', page:true, id:'accessTableId2'}" lay-filter="access2">
							  <thead>
							    <tr>
							      <th lay-data="{field:'tagName', align: 'center', sort: true, width: 60}">姓名</th>
							      <th lay-data="{field:'tagId', align: 'center', sort: true, width: 60}">ID</th>
							      <th lay-data="{field:'jobTypeName', align: 'center', sort: true, width: 60}">工種</th>
							      <th lay-data="{field:'companyName', align: 'center', sort: true, width: 70}">公司</th>
							      <th lay-data="{field:'groupName', align: 'center', sort: true, width: 70}">工地</th>
							      <th lay-data="{field:'regionName', align: 'center', sort: true, width: 70}">區域</th>
							      <th lay-data="{field:'enterReferName', align: 'center', sort: true, width: 105}">上班參考點</th>
							      <th lay-data="{field:'leaveReferName', align: 'center', sort: true, width: 105}">下班參考點</th>
							   	  <th lay-data="{field:'onDutyTime', align: 'center', sort: true}">上班時間</th>
							   	  <th lay-data="{field:'offDutyTime', align: 'center', sort: true}">下班時間</th>
							   	  <th lay-data="{field:'taskTime', align: 'center', sort: true}">工        時</th>
							    </tr>
							 </thead>
							</table>
						</div>
					  </div>
					</div> 
				</li>
				<li shiro:hasPermission="report:in-out">
					<div class="layui-form filtrate" id="inOutQuery">
							<div class="layui-form-item">
								<label class="layui-form-label">姓名：</label>
								<div class="layui-input-inline">
									<input type="text" name="name" placeholder="輸入姓名"
										autocomplete="off" class="layui-input">
								</div>
								<label class="layui-form-label">公司：</label>
								<div class="layui-input-inline">
									<select name="companyName" lay-filter="inOutCompanyFilter">
										<option value="">請選擇</option>
									</select>
								</div>
								<label class="layui-form-label">工種：</label>
								<div class="layui-input-inline">
									<select name="jobTypeName" lay-filter="inOutJobTypeFilter">
										<option value="">請選擇</option>
									</select>
								</div>
								<label class="layui-form-label">工地：</label>
								<div class="layui-input-inline">
									<select name="groupName" lay-filter="inOutGroupFilter">
										<option value="">請選擇</option>
									</select>
								</div>
							</div>
							<div class="layui-form-item">
								<label class="layui-form-label">日期區間：</label>
								<div class="layui-input-inline dateInterval">
									<div class="layui-input-inline" style="width: 300px;">
										<input type="text" name="accessDateInterval"
											id="inOutDateInterval" class="layui-input"
											placeholder="yyyy-MM-dd HH:mm:ss - yyyy-MM-dd HH:mm:ss" />
									</div>
								</div>
								<button type="button" class="layui-btn layui-btn-sm search"
									id="searchInOutRecord">
									<i class="layui-icon">&#xe615;</i>開始查詢
								</button>
								<button type="button" class="layui-btn layui-btn-sm"
									id="exportinOutRecord">
									<i class="layui-icon">&#xe62d;</i>導出報表
								</button>
							</div>
							<table class="layui-table" lay-data="{height: 'full-98', url:'in-out/record/empty', page:true, id:'in-OutTableId'}" lay-filter="in-OutAccess">
							  <thead>
							    <tr>
							      <th lay-data="{field:'tagName', align: 'center', sort: true, width: 70}">姓名</th>
							      <th lay-data="{field:'tagId', align: 'center', sort: true, width: 60}">ID</th>
							      <th lay-data="{field:'jobTypeName', align: 'center', sort: true, width: 100}">工種</th>
							      <th lay-data="{field:'companyName', align: 'center', sort: true, width: 100}">公司</th>
							      <th lay-data="{field:'groupName', align: 'center', sort: true, width: 100}">工地</th>
							      <th lay-data="{field:'regionName', align: 'center', sort: true, width: 100}">區域</th>
							      <th lay-data="{field:'referName', align: 'center', sort: true, width: 110}">參考點名稱</th>
							      <th lay-data="{field:'accessTime', align: 'center', sort: true}">進出時間</th>
								  <th lay-data="{field:'accessTypeName', align: 'center', sort: true, width: 100,templet: '#InOutAccessTypeTemplate'}">進入/外出</th>
							    </tr>
							  </thead>
							</table>
							<!-- 模板（進入/外出） -->
							<script type="text/html" id="InOutAccessTypeTemplate">
								{{# if(d.accessType==1){ }}
										<span style='color: red'>進入</span>
								{{# }else if(d.accessType==2){  }}
										<span style='color: red'>外出 </span>
								{{# }else{ }}
										<span>****</span>
								{{# } }}
							</script>
					</div>
				</li>

				<li shiro:hasPermission="report:warn">
					<dl class="warnType" id="warnType">
						<dd>
							<p>報警類型：<span>人員求救</span></p>
							<p class="warnTotal">報警數量：<span>0</span></p>
							<p class="warnHandle">已處理警報數量：<span>0</span></p>
							<p class="warnNotHandle">未處理警報數量：<span>0</span></p>
							<p class="warnGroup">工地：</p>
							<div id="personHelpChart" style="width: 100%; height: 200px"></div>
						</dd>
						<dd>
							<p>報警類型：<span>區域管制</span></p>
							<p class="warnTotal">報警數量：<span>0</span></p>
							<p class="warnHandle">已處理警報數量：<span>0</span></p>
							<p class="warnNotHandle">未處理警報數量：<span>0</span></p>
							<p class="warnGroup">工地：</p>
							<div id="regionControlChart" style="width: 100%; height: 200px"></div>
						</dd>
						<dd>
							<p>報警類型：<span>人員未移動</span></p>
							<p class="warnTotal">報警數量：<span>0</span></p>
							<p class="warnHandle">已處理警報數量：<span>0</span></p>
							<p class="warnNotHandle">未處理警報數量：<span>0</span></p>
							<p class="warnGroup">工地：</p>
							<div id="notMoveChart" style="width: 100%; height: 200px"></div>
						</dd>
						<dd>
							<p>報警類型：<span>電量不足</span></p>
							<p class="warnTotal">報警數量：<span>0</span></p>
							<p class="warnHandle">已處理警報數量：<span>0</span></p>
							<p class="warnNotHandle">未處理警報數量：<span>0</span></p>
							<p class="warnGroup">工地：</p>
							<div id="lowBatteryChart" style="width: 100%; height: 200px"></div>
						</dd>
						<dd>
							<p>報警類型：<span>卡片異常</span></p>
							<p class="warnTotal">報警數量：<span>0</span></p>
							<p class="warnHandle">已處理警報數量：<span>0</span></p>
							<p class="warnNotHandle">未處理警報數量：<span>0</span></p>
							<p class="warnGroup">工地：</p>
							<div id="tagAbnormalChart" style="width: 100%; height: 200px"></div>
						</dd>
						<dd>
							<p>報警類型：<span>參考點異常</span></p>
							<p class="warnTotal">報警數量：<span>0</span></p>
							<p class="warnHandle">已處理警報數量：<span>0</span></p>
							<p class="warnNotHandle">未處理警報數量：<span>0</span></p>
							<p class="warnGroup">工地：</p>
							<div id="referAbnormalChart" style="width: 100%; height: 200px"></div>
						</dd>
						<dd>
							<p>報警類型：<span>節點異常</span></p>
							<p class="warnTotal">報警數量：<span>0</span></p>
							<p class="warnHandle">已處理警報數量：<span>0</span></p>
							<p class="warnNotHandle">未處理警報數量：<span>0</span></p>
							<p class="warnGroup">工地：</p>
							<div id="nodeAbnormalChart" style="width: 100%; height: 200px"></div>
						</dd>
					</dl>
					<!-- 人員求救窗口 -->
					<div class="warnTypeWindow" id="personForHelpWindow" style="display: none;">
						<div class="layui-form filtrate">
							<div class="layui-form-item">
								<label class="layui-form-label">姓名：</label>
								<div class="layui-input-inline">
									<input type="text" name="name" placeholder="輸入姓名" autocomplete="off" class="layui-input">
								</div>
								<label class="layui-form-label">公司：</label>
								<div class="layui-input-inline">
									<select name="companyName" lay-filter="personHelpCompanyFilter">
										<option value="">請選擇</option>
									</select>
								</div>
								<label class="layui-form-label">工種：</label>
								<div class="layui-input-inline">
									<select name="jobTypeName" lay-filter="personHelpJobTypesFilter">
										<option value="">請選擇</option>
									</select>
								</div>
								<label class="layui-form-label">工地：</label>
								<div class="layui-input-inline">
									<select name="groupName" lay-filter="personHelpGroupsFilter">
										<option value="">請選擇</option>
									</select>
								</div>
							</div>
							<div class="layui-form-item">
								<label class="layui-form-label">日期範圍：</label>
								<div class="layui-input-inline dateInterval">
									<input type="text" name="personForHelpDateInterval" 
										   id="personForHelpDateInterval" class="layui-input"
									       placeholder="yyyy-MM-dd HH:mm:ss - yyyy-MM-dd HH:mm:ss"/>
								</div>
								<button type="button" class="layui-btn layui-btn-sm search" id="searchPersonForHelp">
									<i class="layui-icon">&#xe615;</i>開始查詢
								</button>
								<button type="button" class="layui-btn layui-btn-sm" id="exportPersonForHelp">
									<i class="layui-icon">&#xe62d;</i>導出報表
								</button>
							</div>
						</div>
	
						<table class="layui-table warn-Table"
							id="personnelHelpStatictisTable" lay-size="sm">
							<thead>
								<tr><th style="width: 2.5%;">ID</th><th style="width: 5%;">姓名</th><th style="width: 5%;">編號</th>
									<th style="width: 5%;">公司</th><th style="width: 5%;">工種</th>
									<th style="width: 5%;">工地</th><th style="width: 5%;">區域</th>
									<th style="width: 7.5%;">參考點</th><th style="width: 10%;">產生時間</th><th style="width: 10%;">處理時間</th>
									<th style="width: 10%;">清理時間</th>
									<th style="width: 7.5%;">記錄數(條)</th>
								</tr>
							</thead>
							<tbody>
							</tbody>
						</table>
						<!-- 分页工具  -->
						<div class="warn-pagetool" id="statisticPersonnelHelpPageTool"></div>
					</div>
					<!-- 區域管制窗口 -->
					<div class="warnTypeWindow" id="regionControlWindow" style="display: none;">
						<div class="layui-form filtrate">
							<div class="layui-form-item">
								<label class="layui-form-label">姓名：</label>
								<div class="layui-input-inline">
									<input type="text" name="name" placeholder="輸入姓名" autocomplete="off" class="layui-input">
								</div>
								<label class="layui-form-label">公司：</label>
								<div class="layui-input-inline">
									<select name="companyName" lay-filter="regionControlCompanyFilter">
										<option value="">請選擇</option>
									</select>
								</div>
								<label class="layui-form-label">工種：</label>
								<div class="layui-input-inline">
									<select name="jobTypeName" lay-filter="regionControlJobTypeFilter">
										<option value="">請選擇</option>
									</select>
								</div>
								<label class="layui-form-label">工地：</label>
								<div class="layui-input-inline">
									<select name="groupName" lay-filter="regionControlGroupFilter">
										<option value="">請選擇</option>
									</select>
								</div>
							</div>
							<div class="layui-form-item">
								<label class="layui-form-label">日期區間：</label>
								<div class="layui-input-inline dateInterval">
									<input type="text" name="regionControlDateInterval" 
										   id="regionControlDateInterval" class="layui-input" 
									       placeholder="yyyy-MM-dd HH:mm:ss - yyyy-MM-dd HH:mm:ss"/>
								</div>
								<button type="button" class="layui-btn layui-btn-sm search" id="searchRegionControl">
									<i class="layui-icon">&#xe615;</i>開始查詢
								</button>
								<button type="button" class="layui-btn layui-btn-sm" id="exportRegionControl">
									<i class="layui-icon">&#xe62d;</i>導出報表
								</button>
							</div>
						</div>
	
						<table class="layui-table warn-Table"
							id="areaControlStatictisTable" lay-size="sm">
							<thead>
								<tr><th style="width: 2.5%;">ID</th><th style="width: 5%;">姓名</th><th style="width: 5%;">編號</th>
									<th style="width: 5%;">公司</th><th style="width: 5%;">工種</th>
									<th style="width: 5%;">工地</th><th style="width: 5%;">區域</th>
									<th style="width: 7.5%;">參考點</th><th style="width: 10%;">產生時間</th><th style="width: 10%;">處理時間</th>
									<th style="width: 10%;">清理時間</th>
									<th style="width: 7.5%;">記錄數(條)</th>
								</tr>
							</thead>
							<tbody>
							</tbody>
						</table>
						<!-- 分页工具  -->
						<div class="warn-pagetool" id="statisticAreaControlPageTool"></div>
					</div>
					<!-- 人員未移動窗口 -->
					<div class="warnTypeWindow" id="personNotMoveWindow" style="display: none;">
						<div class="layui-form filtrate">
								<div class="layui-form-item">
										<label class="layui-form-label">姓名：</label>
										<div class="layui-input-inline">
											<input type="text" name="name" placeholder="輸入姓名" autocomplete="off" class="layui-input">
										</div>
										<label class="layui-form-label">公司：</label>
										<div class="layui-input-inline">
											<select name="companyName" lay-filter="notMoveCompanyFilter">
												<option value="">請選擇</option>
											</select>
										</div>
										<label class="layui-form-label">工種：</label>
										<div class="layui-input-inline">
											<select name="jobTypeName" lay-filter="notMoveJobTypeFilter">
												<option value="">請選擇</option>
											</select>
										</div>
										<label class="layui-form-label">工地：</label>
										<div class="layui-input-inline">
											<select name="groupName" lay-filter="notMoveGroupFilter">
												<option value="">請選擇</option>
											</select>
										</div>
									</div>
									<div class="layui-form-item">
										<label class="layui-form-label">日期區間：</label>
										<div class="layui-input-inline dateInterval">
											<input type="text" name="personNotMoveDateInterval" 
												   id="personNotMoveDateInterval" class="layui-input" 
											       placeholder="yyyy-MM-dd HH:mm:ss - yyyy-MM-dd HH:mm:ss" />
										</div>
										<button type="button" class="layui-btn layui-btn-sm search" id="searchPersonNotMove">
											<i class="layui-icon">&#xe615;</i>開始查詢
										</button>
										<button type="button" class="layui-btn layui-btn-sm" id="exportPersonNotMove">
											<i class="layui-icon">&#xe62d;</i>導出報表
										</button>
									</div>
								</div>
								<!-- 人員未移動窗口 -->
								<table class="layui-table warn-Table" id="nowMoveStatictisTable" lay-size="sm">
								  <thead>
								    <tr>
								      <th style="width: 2.5%;">ID</th>
								      <th style="width: 5%;">姓名</th>
								      <th style="width: 5%;">編號</th>
								      <th style="width: 5%;">公司</th>
								      <th style="width: 5%;">工種</th>
								      <th style="width: 5%;">工地</th>
								      <th style="width: 5%;">區域</th>
								      <th style="width: 7.5%;">參考點</th>
								      <th style="width: 11.5%;">未移動時間(min)</th>
								      <th style="width: 10%;">產生時間</th>
								      <th style="width: 10%;">處理時間</th>
								      <th style="width: 10%;">清理時間</th>
								      <th style="width: 7.5%;">記錄數(條)</th>
								      <th>未移動總時間(min)</th>
								    </tr> 
								  </thead>
								  <tbody>
								  </tbody>
								</table>
								<!-- 分页工具  -->
								<div class="warn-pagetool" id="statisticNotMovePageTool"></div>
						</div>
					<!-- 電量不足窗口 -->
					<div class="warnTypeWindow" id="batteryLowWindow" style="display: none;">
						<div class="layui-form filtrate">
							<div class="layui-form-item">
								<label class="layui-form-label">姓名：</label>
								<div class="layui-input-inline">
									<input type="text" name="name" placeholder="輸入姓名" autocomplete="off" class="layui-input">
								</div>
								<label class="layui-form-label">公司：</label>
								<div class="layui-input-inline">
									<select name="companyName" lay-filter="lowPowerCompanyFilter">
										<option value="">請選擇</option>
									</select>
								</div>
								<label class="layui-form-label">工種：</label>
								<div class="layui-input-inline">
									<select name="jobTypeName" lay-filter="lowPowerJobTypeFilter">
										<option value="">請選擇</option>
									</select>
								</div>
								<label class="layui-form-label">工地：</label>
								<div class="layui-input-inline">
									<select name="groupName" lay-filter="lowPowerGroupFilter">
										<option value="">請選擇</option>
									</select>
								</div>
							</div>
							<div class="layui-form-item">
								<label class="layui-form-label">日期區間：</label>
								<div class="layui-input-inline dateInterval">
									<input type="text" name="batteryLowDateInterval" id="batteryLowDateInterval" 
									class="layui-input" 
									placeholder="yyyy-MM-dd HH:mm:ss - yyyy-MM-dd HH:mm:ss" />
								</div>
								<button type="button" class="layui-btn layui-btn-sm search" id="searchBatteryLow">
									<i class="layui-icon">&#xe615;</i>開始查詢
								</button>
								<button type="button" class="layui-btn layui-btn-sm" id="exportBatteryLow">
									<i class="layui-icon">&#xe62d;</i>導出報表
								</button>
							</div>
						</div>
						<!-- 低電量 -->
						<table class="layui-table warn-Table" id="lowPowerStatictisTable" lay-size="sm">
							<thead>
								<tr><th style="width: 2.5%;">ID</th><th style="width: 5%;">姓名</th><th style="width: 5%;">編號</th>
								    <th style="width: 5%;">公司</th><th style="width: 5%;">工種</th>
								    <th style="width: 5%;">工地</th><th style="width: 5%;">區域</th>
								    <th style="width: 7.5%;">參考點</th><th style="width: 11.5%;">電量(%)</th>
								    <th style="width: 10%;">產生時間</th><th style="width: 10%;">處理時間</th>
								    <th style="width: 10%;">清理時間</th><th style="width: 7.5%;">記錄數(條)</th>
								 </tr> 
							</thead>
							<tbody></tbody>
						</table>
						<!-- 分页工具  -->
						<div class="warn-pagetool" id="statisticLowPowerPageTool"></div>
					</div>
					<!-- 卡片異常窗口 -->
					<div class="warnTypeWindow" id="cardAbnormalWindow" style="display: none;">
						<div class="layui-form filtrate">
							<div class="layui-form-item">
								<label class="layui-form-label">姓名：</label>
								<div class="layui-input-inline">
									<input type="text" name="name" placeholder="輸入姓名" autocomplete="off" class="layui-input">
								</div>
								<label class="layui-form-label">公司：</label>
								<div class="layui-input-inline">
									<select name="companyName" lay-filter="abnormalCompanyFilter">
										<option value="">請選擇</option>
									</select>
								</div>
								<label class="layui-form-label">工種：</label>
								<div class="layui-input-inline">
									<select name="jobTypeName" lay-filter="abnormalJobTypeFilter">
										<option value="">請選擇</option>
									</select>
								</div>
								<label class="layui-form-label">工地：</label>
								<div class="layui-input-inline">
									<select name="groupName" lay-filter="abnormalGroupFilter">
										<option value="">請選擇</option>
									</select>
								</div>
							</div>
							<div class="layui-form-item">
								<label class="layui-form-label">日期區間：</label>
								<div class="layui-input-inline dateInterval">
									<input type="text" name="cardAbnormalDateInterval" id="cardAbnormalDateInterval" class="layui-input" 
									placeholder="yyyy-MM-dd HH:mm:ss - yyyy-MM-dd HH:mm:ss" />
								</div>
								<button type="button" class="layui-btn layui-btn-sm search" id="searchCardAbnormal">
									<i class="layui-icon">&#xe615;</i>開始查詢
								</button>
								<button type="button" class="layui-btn layui-btn-sm" id="exportCardAbnormal">
									<i class="layui-icon">&#xe62d;</i>導出報表
								</button>
							</div>
						</div>
						<!-- 卡片異常 -->
						<table class="layui-table warn-Table" id="abnormalTagStatictisTable" lay-size="sm">
							<thead>
								<tr><th style="width: 2.5%;">ID</th><th style="width: 5%;">姓名</th><th style="width: 5%;">編號</th>
								    <th style="width: 5%;">公司</th><th style="width: 5%;">工種</th>
								    <th style="width: 5%;">工地</th><th style="width: 5%;">區域</th><th style="width: 7.5%;">參考點</th>
								    <th style="width: 10%;">產生時間</th><th style="width: 10%;">處理時間</th>
								    <th style="width: 10%;">清理時間</th><th style="width: 7.5%;">記錄數(條)</th>
								 </tr> 
							</thead>
							<tbody></tbody>
						</table>
						<!-- 分页工具  -->
						<div class="warn-pagetool" id="statisticAbnormalTagPageTool"></div>
					</div>
					<!-- 參考點異常窗口 -->
					<div class="warnTypeWindow" id="pointAbnormalWindow" style="display: none;">
						<div class="layui-form filtrate">
							<div class="layui-form-item">
								<label class="layui-form-label">名稱：</label>
								<div class="layui-input-inline">
									<input type="text" name="name" placeholder="輸入名稱" autocomplete="off" class="layui-input">
								</div>
								<label class="layui-form-label">工地：</label>
								<div class="layui-input-inline">
									<select name="groupName" lay-filter="abnormalReferGroupFilter">
										<option value="">請選擇</option>
									</select>
								</div>
							</div>
							<div class="layui-form-item">
								<label class="layui-form-label">日期區間：</label>
								<div class="layui-input-inline dateInterval">
									<input type="text" name="pointAbnormalDateInterval" id="pointAbnormalDateInterval" 
									class="layui-input" placeholder="yyyy-MM-dd HH:mm:ss - yyyy-MM-dd HH:mm:ss" />
								</div>
								<button type="button" class="layui-btn layui-btn-sm search" id="searchPointAbnormal">
									<i class="layui-icon">&#xe615;</i>開始查詢
								</button>
								<button type="button" class="layui-btn layui-btn-sm" id="exportPointAbnormal">
									<i class="layui-icon">&#xe62d;</i>導出報表
								</button>
							</div>
						</div>
						<!-- 参考点异常 -->
						<table class="layui-table warn-Table" id="abnormalReferStatictisTable" lay-size="sm">
							<thead>
								<tr><th style="width: 2.5%;">ID</th><th style="width: 5%;">名稱</th>
								    <th style="width: 5%;">工地</th><th style="width: 5%;">區域</th>
								     <th style="width: 5%;">休眠時間(s)</th><th style="width: 5%;">斷開時間(min)</th>
								    <th style="width: 10%;">產生時間</th><th style="width: 10%;">處理時間</th>
								    <th style="width: 10%;">清理時間</th><th style="width: 7.5%;">記錄數(條)</th>
								 </tr> 
							</thead>
							<tbody></tbody>
						</table>
						<!-- 分页工具  -->
						<div class="warn-pagetool" id="statisticAbnormalReferPageTool"></div>
					</div>
					<!-- 節點異常窗口 -->
					<div class="warnTypeWindow" id="nodeAbnormalWindow" style="display: none;">
						<div class="layui-form filtrate">
							<div class="layui-form-item">
								<label class="layui-form-label">名稱：</label>
								<div class="layui-input-inline">
									<input type="text" name="name" placeholder="輸入名稱" autocomplete="off" class="layui-input">
								</div>
								<label class="layui-form-label">工地：</label>
								<div class="layui-input-inline">
									<select name="groupName" lay-filter="abnormalNodeGroupFilter">
										<option value="">請選擇</option>
									</select>
								</div>
							</div>
							<div class="layui-form-item">
								<label class="layui-form-label">日期區間：</label>
								<div class="layui-input-inline dateInterval">
									<input type="text" name="nodeAbnormalDateInterval" id="nodeAbnormalDateInterval" 
									class="layui-input" placeholder="yyyy-MM-dd HH:mm:ss - yyyy-MM-dd HH:mm:ss" />
								</div>
								<button type="button" class="layui-btn layui-btn-sm search" id="searchNodeAbnormal">
									<i class="layui-icon">&#xe615;</i>開始查詢
								</button>
								<button type="button" class="layui-btn layui-btn-sm" id="exportNodeAbnormal">
									<i class="layui-icon">&#xe62d;</i>導出報表
								</button>
							</div>
						</div>
						<!-- 基站异常 -->
						<table class="layui-table warn-Table" id="abnormalNodeStatictisTable" lay-size="sm">
							<thead>
								<tr><th style="width: 2.5%;">ID</th><th style="width: 5%;">名稱</th>
								    <th style="width: 5%;">工地</th><th style="width: 5%;">區域</th>
								    <th style="width: 5%;">休眠時間(s)</th><th style="width: 5%;">斷開時間(min)</th>
								    <th style="width: 10%;">產生時間</th><th style="width: 10%;">處理時間</th>
								    <th style="width: 10%;">清理時間</th><th style="width: 7.5%;">記錄數(條)</th>
								 </tr> 
							</thead>
							<tbody></tbody>
						</table>
						<!-- 分页工具  -->
						<div class="warn-pagetool" id="statisticAbnormalNodePageTool"></div>
					</div>
				</li>
				<li shiro:hasPermission="report:operation">
					<div class="layui-form filtrate">
						<div class="layui-form-item"  id="logSearchContent">
							<label class="layui-form-label">操作人名称：</label>
							<div class="layui-input-inline">
								<input type="text" name="userName" placeholder="輸入姓名" 
									   autocomplete="off" class="layui-input">
							</div>
							<label class="layui-form-label">操作時間段：</label>
							<div class="layui-input-inline" style="width: 300px;">
								<input type="text" name="logPeriod" id="logPeriod" class="layui-input" 
									   placeholder="yyyy-MM-dd HH:mm:ss - yyyy-MM-dd HH:mm:ss" />
							</div>
							<button type="button" class="layui-btn layui-btn-sm search" id="searchLog">
								<i class="layui-icon">&#xe615;</i>開始查詢
							</button>
							<button type="button" class="layui-btn layui-btn-sm" id="exportLog">
								<i class="layui-icon">&#xe62d;</i>導出報表
							</button>
						</div>
					</div>
					<!-- 日誌表格 -->
					<table class="layui-table" lay-data="{height:'full-58', url:'report/operation/empty', page:true, id:'logTableId'}" lay-filter="test">
					  <thead>
					    <tr>
					      <th lay-data="{field:'userName',align: 'center', sort: true}">操作人姓名</th>
					      <th lay-data="{field:'des',align: 'center', sort: true}">描述</th>
					      <th lay-data="{field:'logTime',align: 'center', sort: true}">操作時間</th>
					      <th lay-data="{field:'ip',align: 'center',sort: true}">操作的IP</th>
					      <th lay-data="{field:'args',align: 'center',sort: true}">參數</th>
					    </tr>
					  </thead>
					</table>
				</li>
			
				<li shiro:hasPermission="report:totalHours">
					<div class="layui-form filtrate" id="totalHoursWorked">
						<div class="layui-form-item">
							<label class="layui-form-label">姓名：</label>
							<div class="layui-input-inline">
								<input type="text" name="name" placeholder="輸入姓名" autocomplete="off" class="layui-input">
							</div>
							<label class="layui-form-label">公司：</label>
							<div class="layui-input-inline">
								<select name="companyName" lay-filter="totalHoursCompanyFilter">
									<option value="">請選擇</option>
								</select>
							</div>
							<label class="layui-form-label">工種：</label>
							<div class="layui-input-inline">
								<select name="jobTypeName" lay-filter="totalHoursJobTypeFilter">
									<option value="">請選擇</option>
								</select>
							</div>
							<label class="layui-form-label">工地：</label>
							<div class="layui-input-inline">
								<select name="groupName" lay-filter="totalHoursGroupFilter">
									<option value="">請選擇</option>
								</select>
							</div>
						</div>
						<div class="layui-form-item">
							<label class="layui-form-label">日期區間：</label>
							<div class="layui-input-inline dateInterval">
								<div class="layui-input-inline" style="width: 300px;">
									<input type="text" name="totalHoursDateInterval"
										id="totalHoursDateInterval" class="layui-input"
										placeholder="yyyy-MM-dd HH:mm:ss - yyyy-MM-dd HH:mm:ss" />
								</div>
							</div>
							<button type="button" class="layui-btn layui-btn-sm search"
										id="searchTotalHours">
								<i class="layui-icon">&#xe615;</i>開始查詢
							</button>
							<button type="button" class="layui-btn layui-btn-sm" id="exportTotalHours">
								<i class="layui-icon">&#xe62d;</i>導出報表
							</button>
						</div>
						<table class="layui-table" lay-data="{height:'full-98', url:'report/totalHours/empty', page:true, id:'totalHoursTable'}" lay-filter="in-OutAccess">
							  <thead>
							    <tr>
							      <th lay-data="{field:'tagName', align: 'center', sort: true, width: 80}">姓名</th>
							      <th lay-data="{field:'tagId', align: 'center', sort: true, width: 70}">ID</th>
							      <th lay-data="{field:'jobTypeName', align: 'center', sort: true, width: 110}">工種</th>
							      <th lay-data="{field:'companyName', align: 'center', sort: true, width: 110}">公司</th>
							      <th lay-data="{field:'groupName', align: 'center', sort: true, width: 120}">工地</th>
							      <th lay-data="{field:'start', align: 'center', sort: true, width: 130}">起始時間</th>
							      <th lay-data="{field:'end', align: 'center', sort: true, width: 130}">結束時間</th>
							      <th lay-data="{field:'dfTotalHours', align: 'center', sort: true}">總工時</th>
							    </tr>
							  </thead>
							</table>
					</div>
				</li>
			</ul>
		</div>
		<script type="text/javascript">
			$("#reportClassify li:first").addClass("activeSet");
        	$("#reportContent li:first").show();
		</script>
	</li>
</ul>
</body>
<script type="text/javascript">
	$(window).ready(function(){
		$("#reportContent").height($(window).height());
	})
	$(window).resize(function(){
		$("#reportContent").height($(window).height());
	})
</script>
</html>
